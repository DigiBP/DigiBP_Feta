<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="Definitions_0cxzstj" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="3.7.0">
  <bpmn:collaboration id="Collaboration_0xlz3h3">
    <bpmn:participant id="Participant_0tejskr" name="Main Process" processRef="Process_1d80vs3" />
    <bpmn:participant id="Participant_0ut6ein" name="Customer" processRef="Process_0m0c358" />
    <bpmn:messageFlow id="MessageFlow_1p3vgxd" name="Send&#10;Web-Form" sourceRef="Participant_0ut6ein" targetRef="StartEvent_1" />
    <bpmn:messageFlow id="MessageFlow_07u8thq" sourceRef="Activity_094f25q" targetRef="Participant_0ut6ein" />
    <bpmn:messageFlow id="MessageFlow_0hiamzy" name="Send confirmation that order will be processed" sourceRef="Activity_1maw6zf" targetRef="Participant_0ut6ein" />
    <bpmn:messageFlow id="MessageFlow_1ly0dvj" sourceRef="Participant_0ut6ein" targetRef="Activity_094f25q" />
    <bpmn:messageFlow id="MessageFlow_05aivd6" name="notify invalid order" sourceRef="Activity_1pw2xhu" targetRef="Participant_0ut6ein" />
    <bpmn:messageFlow id="MessageFlow_0o5keg3" name="Trigger Message via Chatbot" sourceRef="Participant_0ut6ein" targetRef="Event_1belsq5" />
  </bpmn:collaboration>
  <bpmn:process id="Process_1d80vs3" isExecutable="true">
    <bpmn:laneSet id="LaneSet_07hnwxk">
      <bpmn:lane id="Lane_1inxogt" name="Workflow Engine">
        <bpmn:flowNodeRef>StartEvent_1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_11smw1m</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0sxrj9f</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1pw2xhu</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_094f25q</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1s11869</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1oky0sb</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0t3l45g</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0g1vzfl</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1belsq5</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1maw6zf</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_072z7jg</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_02qv65s" name="Baker">
        <bpmn:flowNodeRef>Activity_0arydmw</bpmn:flowNodeRef>
      </bpmn:lane>
      <bpmn:lane id="Lane_1dz0dld" name="Shop Assistant">
        <bpmn:flowNodeRef>Activity_1j5vs2u</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0ew9ynt</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1jescqe</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1g33ys9</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0cprer8</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1ygs5wf</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_1gwvtrw</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_02qtoww</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_1j669dj</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_18ct8kd</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_17m5nnu</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:sequenceFlow id="Flow_1f2gw0v" sourceRef="StartEvent_1" targetRef="Activity_1maw6zf" />
    <bpmn:sequenceFlow id="Flow_19bdte3" sourceRef="Activity_1maw6zf" targetRef="Activity_11smw1m" />
    <bpmn:sequenceFlow id="Flow_03865ia" name="No" sourceRef="Gateway_0sxrj9f" targetRef="Activity_1pw2xhu">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == "FALSE"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1ihappa" sourceRef="Activity_094f25q" targetRef="Event_1belsq5" />
    <bpmn:sequenceFlow id="Flow_0axulgo" sourceRef="Activity_11smw1m" targetRef="Gateway_0sxrj9f" />
    <bpmn:sequenceFlow id="Flow_1jcmoxm" name="Resolved" sourceRef="Gateway_1oky0sb" targetRef="Activity_0t3l45g">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${OrderStatus == "Resolved"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_1mxijzj" sourceRef="Activity_072z7jg" targetRef="Activity_0arydmw" />
    <bpmn:sequenceFlow id="Flow_1wjtc9m" sourceRef="Activity_1g33ys9" targetRef="Activity_0arydmw" />
    <bpmn:sequenceFlow id="Flow_1rdi42o" sourceRef="Activity_0arydmw" targetRef="Activity_1j5vs2u" />
    <bpmn:sequenceFlow id="Flow_03bx0fv" sourceRef="Activity_1j5vs2u" targetRef="Activity_0ew9ynt" />
    <bpmn:sequenceFlow id="Flow_1v3najy" sourceRef="Activity_0ew9ynt" targetRef="Gateway_1jescqe" />
    <bpmn:sequenceFlow id="Flow_18ef1gf" sourceRef="Gateway_1jescqe" targetRef="Activity_0cprer8">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${deliveryRequired == "TRUE"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0ltztpl" sourceRef="Event_17m5nnu" targetRef="Activity_1g33ys9" />
    <bpmn:sequenceFlow id="Flow_0dk32h3" sourceRef="Activity_0t3l45g" targetRef="Activity_072z7jg" />
    <bpmn:sequenceFlow id="Flow_052m8qy" name="Yes" sourceRef="Gateway_0sxrj9f" targetRef="Activity_0t3l45g">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${valid == "TRUE"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:dataObjectReference id="Flow_16s64u8" name="Google Sheet IncomingOrder" dataObjectRef="Flow_0yxzjf1" />
    <bpmn:dataObject id="Flow_0yxzjf1" />
    <bpmn:sequenceFlow id="Flow_0fkg53z" sourceRef="Gateway_1jescqe" targetRef="Gateway_1ygs5wf">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${deliveryRequired == "FALSE"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0iqd01m" sourceRef="Activity_02qtoww" targetRef="Event_1j669dj" />
    <bpmn:sequenceFlow id="Flow_00lslar" sourceRef="Activity_18ct8kd" targetRef="Activity_1gwvtrw" />
    <bpmn:sequenceFlow id="Flow_1iiy2wx" sourceRef="Activity_0cprer8" targetRef="Gateway_1ygs5wf" />
    <bpmn:sequenceFlow id="Flow_19hhsqh" sourceRef="Gateway_1ygs5wf" targetRef="Activity_18ct8kd" />
    <bpmn:sequenceFlow id="Flow_0ly0748" sourceRef="Activity_1gwvtrw" targetRef="Activity_02qtoww" />
    <bpmn:dataObjectReference id="Flow_0wjiua6" name="Google-Sheet Orders with Issues List" dataObjectRef="Flow_0v1z0o4" />
    <bpmn:dataObject id="Flow_0v1z0o4" />
    <bpmn:startEvent id="StartEvent_1" name="Order Received">
      <bpmn:outgoing>Flow_1f2gw0v</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1dghq64" messageRef="Message_18ajewz" />
    </bpmn:startEvent>
    <bpmn:businessRuleTask id="Activity_11smw1m" name="Validate Order" camunda:resultVariable="validationResult" camunda:decisionRef="Decision_orderValidation" camunda:mapDecisionResult="singleResult">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="SandwichQuantity">
            <camunda:script scriptFormat="JavaScript">Number(SandwichQuantity)</camunda:script>
          </camunda:inputParameter>
          <camunda:inputParameter name="CroissantQuantity">
            <camunda:script scriptFormat="JavaScript">Number(CroissantQuantity)</camunda:script>
          </camunda:inputParameter>
          <camunda:inputParameter name="PasteryQuantity">
            <camunda:script scriptFormat="JavaScript">Number(PasteryQuantity)</camunda:script>
          </camunda:inputParameter>
          <camunda:outputParameter name="valid">${validationResult.valid}</camunda:outputParameter>
          <camunda:outputParameter name="explanation">${validationResult.explanation}</camunda:outputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_19bdte3</bpmn:incoming>
      <bpmn:outgoing>Flow_0axulgo</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:exclusiveGateway id="Gateway_0sxrj9f" name="Order Valid?">
      <bpmn:incoming>Flow_0axulgo</bpmn:incoming>
      <bpmn:outgoing>Flow_03865ia</bpmn:outgoing>
      <bpmn:outgoing>Flow_052m8qy</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1u9nq4t" sourceRef="Activity_1pw2xhu" targetRef="Activity_094f25q" />
    <bpmn:serviceTask id="Activity_1pw2xhu" name="Update Issue List">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">out = JSON.stringify({

    "OrderID":orderId,
"name":name,
    "IssueReason":explanation
   
});</camunda:script>
            </camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/pzytqsiq2gg2pwevj9u86878n7fkf4m6</camunda:inputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_03865ia</bpmn:incoming>
      <bpmn:outgoing>Flow_1u9nq4t</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_122qg19">
        <bpmn:targetRef>Flow_0wjiua6</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_0tctivd" sourceRef="Activity_0g1vzfl" targetRef="Gateway_1oky0sb" />
    <bpmn:manualTask id="Activity_094f25q" name="Incident Management Chatbot">
      <bpmn:incoming>Flow_1u9nq4t</bpmn:incoming>
      <bpmn:outgoing>Flow_1ihappa</bpmn:outgoing>
      <bpmn:property id="Property_1e793jx" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_0krj3th">
        <bpmn:sourceRef>Flow_0wjiua6</bpmn:sourceRef>
        <bpmn:targetRef>Property_1e793jx</bpmn:targetRef>
      </bpmn:dataInputAssociation>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0d3gv5k">
        <bpmn:targetRef>Flow_16s64u8</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:manualTask>
    <bpmn:sequenceFlow id="Flow_03hyvyg" name="Cancelled" sourceRef="Gateway_1oky0sb" targetRef="Event_1s11869">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">${OrderStatus == "Cancelled"}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:dataStoreReference id="Flow_1lfke2x" name="Order Database" />
    <bpmn:endEvent id="Event_1s11869">
      <bpmn:incoming>Flow_03hyvyg</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:exclusiveGateway id="Gateway_1oky0sb" name="Order refined or voided?">
      <bpmn:incoming>Flow_0tctivd</bpmn:incoming>
      <bpmn:outgoing>Flow_1jcmoxm</bpmn:outgoing>
      <bpmn:outgoing>Flow_03hyvyg</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_0arydmw" name="Bake/Prepare Order">
      <bpmn:incoming>Flow_1wjtc9m</bpmn:incoming>
      <bpmn:incoming>Flow_1mxijzj</bpmn:incoming>
      <bpmn:outgoing>Flow_1rdi42o</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_1j5vs2u" name="Check Prepared Goods">
      <bpmn:incoming>Flow_1rdi42o</bpmn:incoming>
      <bpmn:outgoing>Flow_03bx0fv</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:manualTask id="Activity_0ew9ynt" name="Prepare for Delivery / Pick-up">
      <bpmn:incoming>Flow_03bx0fv</bpmn:incoming>
      <bpmn:outgoing>Flow_1v3najy</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:exclusiveGateway id="Gateway_1jescqe" name="Pick-up or Delivery?">
      <bpmn:incoming>Flow_1v3najy</bpmn:incoming>
      <bpmn:outgoing>Flow_18ef1gf</bpmn:outgoing>
      <bpmn:outgoing>Flow_0fkg53z</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_1g33ys9" name="Alert the Baker">
      <bpmn:incoming>Flow_0ltztpl</bpmn:incoming>
      <bpmn:outgoing>Flow_1wjtc9m</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="Activity_0t3l45g" name="Add Order to Database">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="method">POST</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/2qrw45svqzq8vvdfmmjxyx69m0y1e4wf</camunda:inputParameter>
            <camunda:outputParameter name="SandwichQuantity">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
SandwichQuantity=object.SandwichQuantity;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="CroissantQuantity">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
CroissantQuantity=object.CroissantQuantity;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="PasteryQuantity">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
PasteryQuantity=object.PasteryQuantity;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="TotalQuantity">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
TotalQuantity=object.TotalQuantity;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="FulfilmentDate">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
FulfilmentDate=object.FulfilmentDate;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="orderId">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
orderId=object.id;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="name">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
name=object.name;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="DeliveryRequired">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
DeliveryRequired=object.DeliveryRequired;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="Email">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
Email=object.Email;</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1jcmoxm</bpmn:incoming>
      <bpmn:incoming>Flow_052m8qy</bpmn:incoming>
      <bpmn:outgoing>Flow_0dk32h3</bpmn:outgoing>
      <bpmn:property id="Property_0kjvm1i" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_1ixt4ns">
        <bpmn:sourceRef>Flow_16s64u8</bpmn:sourceRef>
        <bpmn:targetRef>Property_0kjvm1i</bpmn:targetRef>
      </bpmn:dataInputAssociation>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_0qh8oke">
        <bpmn:targetRef>Flow_1lfke2x</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:serviceTask>
    <bpmn:manualTask id="Activity_0cprer8" name="Drive to location">
      <bpmn:incoming>Flow_18ef1gf</bpmn:incoming>
      <bpmn:outgoing>Flow_1iiy2wx</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:exclusiveGateway id="Gateway_1ygs5wf">
      <bpmn:incoming>Flow_0fkg53z</bpmn:incoming>
      <bpmn:incoming>Flow_1iiy2wx</bpmn:incoming>
      <bpmn:outgoing>Flow_19hhsqh</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:manualTask id="Activity_1gwvtrw" name="Hand out goods">
      <bpmn:incoming>Flow_00lslar</bpmn:incoming>
      <bpmn:outgoing>Flow_0ly0748</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:manualTask id="Activity_02qtoww" name="Update Order Form">
      <bpmn:incoming>Flow_0ly0748</bpmn:incoming>
      <bpmn:outgoing>Flow_0iqd01m</bpmn:outgoing>
      <bpmn:dataOutputAssociation id="DataOutputAssociation_04rqnyw">
        <bpmn:targetRef>Flow_1lfke2x</bpmn:targetRef>
      </bpmn:dataOutputAssociation>
    </bpmn:manualTask>
    <bpmn:endEvent id="Event_1j669dj">
      <bpmn:incoming>Flow_0iqd01m</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:manualTask id="Activity_18ct8kd" name="Payment process">
      <bpmn:incoming>Flow_19hhsqh</bpmn:incoming>
      <bpmn:outgoing>Flow_00lslar</bpmn:outgoing>
    </bpmn:manualTask>
    <bpmn:serviceTask id="Activity_0g1vzfl" name="Get Order Valid State">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">out = JSON.stringify({

    "OrderID":orderId
   
});</camunda:script>
            </camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/93mv3fwb8wslymids8ceenhskvczlo9u</camunda:inputParameter>
            <camunda:outputParameter name="OrderStatus">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
OrderStatus=object.OrderStatus;</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1etcymb</bpmn:incoming>
      <bpmn:outgoing>Flow_0tctivd</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:boundaryEvent id="Event_17m5nnu" attachedToRef="Activity_1j5vs2u">
      <bpmn:outgoing>Flow_0ltztpl</bpmn:outgoing>
      <bpmn:errorEventDefinition id="ErrorEventDefinition_0oxyn8t" />
    </bpmn:boundaryEvent>
    <bpmn:sequenceFlow id="Flow_1etcymb" sourceRef="Event_1belsq5" targetRef="Activity_0g1vzfl" />
    <bpmn:intermediateCatchEvent id="Event_1belsq5" name="Callback from Chatbot">
      <bpmn:incoming>Flow_1ihappa</bpmn:incoming>
      <bpmn:outgoing>Flow_1etcymb</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_010zylm" messageRef="Message_1yaw54s" />
    </bpmn:intermediateCatchEvent>
    <bpmn:serviceTask id="Activity_1maw6zf" name="Get Order Details and send confirmation">
      <bpmn:extensionElements>
        <camunda:connector>
          <camunda:inputOutput>
            <camunda:inputParameter name="method">GET</camunda:inputParameter>
            <camunda:inputParameter name="url">https://hook.integromat.com/qgd78sk4chu6scdpsz8gatwz3ebjlu9c</camunda:inputParameter>
            <camunda:inputParameter name="headers">
              <camunda:map>
                <camunda:entry key="Content-Type">application/json</camunda:entry>
              </camunda:map>
            </camunda:inputParameter>
            <camunda:inputParameter name="payload">
              <camunda:script scriptFormat="JavaScript">out = JSON.stringify({
    "orderId":orderId
});</camunda:script>
            </camunda:inputParameter>
            <camunda:outputParameter name="SandwichQuantity">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
SandwichQuantity=object.SandwichQuantity;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="CroissantQuantity">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
CroissantQuantity=object.CroissantQuantity;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="PasteryQuantity">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
PasteryQuantity=object.PasteryQuantity;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="TotalQuantity">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
TotalQuantity=object.TotalQuantity;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="FulfilmentDate">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
FulfilmentDate=object.FulfilmentDate;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="orderId">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
orderId=object.id;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="name">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
name=object.name;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="DeliveryRequired">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
DeliveryRequired=object.DeliveryRequired;</camunda:script>
            </camunda:outputParameter>
            <camunda:outputParameter name="Email">
              <camunda:script scriptFormat="JavaScript">object=JSON.parse(response);
Email=object.Email;</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:connectorId>http-connector</camunda:connectorId>
        </camunda:connector>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1f2gw0v</bpmn:incoming>
      <bpmn:outgoing>Flow_19bdte3</bpmn:outgoing>
      <bpmn:property id="Property_16nrs24" name="__targetRef_placeholder" />
      <bpmn:dataInputAssociation id="DataInputAssociation_03usv59">
        <bpmn:sourceRef>Flow_16s64u8</bpmn:sourceRef>
        <bpmn:targetRef>Property_16nrs24</bpmn:targetRef>
      </bpmn:dataInputAssociation>
    </bpmn:serviceTask>
    <bpmn:callActivity id="Activity_072z7jg" name="Reserve needed Stocks" calledElement="Process_03w03b4">
      <bpmn:incoming>Flow_0dk32h3</bpmn:incoming>
      <bpmn:outgoing>Flow_1mxijzj</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:textAnnotation id="TextAnnotation_1g99gmz">
      <bpmn:text>*Can be changed to script (mark order as completed in the DB*</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_01uu0h9" sourceRef="Activity_02qtoww" targetRef="TextAnnotation_1g99gmz" />
  </bpmn:process>
  <bpmn:process id="Process_0m0c358" isExecutable="false" />
  <bpmn:message id="Message_1yaw54s" name="Message_To_Re-Trigger_Token" />
  <bpmn:message id="Message_18ajewz" name="m_newOrder" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_0xlz3h3">
      <bpmndi:BPMNShape id="Participant_0tejskr_di" bpmnElement="Participant_0tejskr" isHorizontal="true">
        <dc:Bounds x="140" y="400" width="2798" height="1190" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0ut6ein_di" bpmnElement="Participant_0ut6ein" isHorizontal="true">
        <dc:Bounds x="160" y="80" width="2630" height="230" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1inxogt_di" bpmnElement="Lane_1inxogt" isHorizontal="true">
        <dc:Bounds x="170" y="400" width="2768" height="430" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_02qv65s_di" bpmnElement="Lane_02qv65s" isHorizontal="true">
        <dc:Bounds x="170" y="830" width="2768" height="170" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_1dz0dld_di" bpmnElement="Lane_1dz0dld" isHorizontal="true">
        <dc:Bounds x="170" y="1000" width="2768" height="590" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_1p3vgxd_di" bpmnElement="MessageFlow_1p3vgxd">
        <di:waypoint x="250" y="310" />
        <di:waypoint x="250" y="712" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="264" y="336" width="51" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Gateway_0sxrj9f_di" bpmnElement="Gateway_0sxrj9f" isMarkerVisible="true">
        <dc:Bounds x="635" y="705" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="629" y="765" width="61" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0axulgo_di" bpmnElement="Flow_0axulgo">
        <di:waypoint x="580" y="730" />
        <di:waypoint x="635" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_03865ia_di" bpmnElement="Flow_03865ia">
        <di:waypoint x="660" y="705" />
        <di:waypoint x="660" y="670" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="668" y="682" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_07u8thq_di" bpmnElement="MessageFlow_07u8thq">
        <di:waypoint x="740" y="510" />
        <di:waypoint x="740" y="310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Flow_1lfke2x_di" bpmnElement="Flow_1lfke2x">
        <dc:Bounds x="1425" y="435" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1411" y="486" width="79" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1mxijzj_di" bpmnElement="Flow_1mxijzj">
        <di:waypoint x="1340" y="770" />
        <di:waypoint x="1340" y="910" />
        <di:waypoint x="1510" y="910" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1rdi42o_di" bpmnElement="Flow_1rdi42o">
        <di:waypoint x="1560" y="960" />
        <di:waypoint x="1560" y="1113" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Gateway_1jescqe_di" bpmnElement="Gateway_1jescqe" isMarkerVisible="true">
        <dc:Bounds x="1865" y="1128" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1865" y="1091" width="51" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_00lslar_di" bpmnElement="Flow_00lslar">
        <di:waypoint x="2320" y="1310" />
        <di:waypoint x="2450" y="1310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1j669dj_di" bpmnElement="Event_1j669dj">
        <dc:Bounds x="2842" y="1292" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0iqd01m_di" bpmnElement="Flow_0iqd01m">
        <di:waypoint x="2740" y="1310" />
        <di:waypoint x="2842" y="1310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_04rqnyw_di" bpmnElement="DataOutputAssociation_04rqnyw">
        <di:waypoint x="2710" y="1270" />
        <di:waypoint x="2710" y="460" />
        <di:waypoint x="1475" y="460" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18ef1gf_di" bpmnElement="Flow_18ef1gf">
        <di:waypoint x="1915" y="1153" />
        <di:waypoint x="2030" y="1153" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1v3najy_di" bpmnElement="Flow_1v3najy">
        <di:waypoint x="1810" y="1153" />
        <di:waypoint x="1865" y="1153" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_1qp0itz_di" bpmnElement="Activity_11smw1m">
        <dc:Bounds x="480" y="690" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0lznv4y_di" bpmnElement="Activity_0ew9ynt">
        <dc:Bounds x="1710" y="1113" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ohtvh4_di" bpmnElement="Activity_0cprer8">
        <dc:Bounds x="2030" y="1113" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1cyoirj_di" bpmnElement="Activity_1gwvtrw">
        <dc:Bounds x="2450" y="1270" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1b83s6a_di" bpmnElement="Activity_02qtoww">
        <dc:Bounds x="2640" y="1270" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1f2gw0v_di" bpmnElement="Flow_1f2gw0v">
        <di:waypoint x="268" y="730" />
        <di:waypoint x="330" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19bdte3_di" bpmnElement="Flow_19bdte3">
        <di:waypoint x="430" y="730" />
        <di:waypoint x="480" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_0hiamzy_di" bpmnElement="MessageFlow_0hiamzy">
        <di:waypoint x="360" y="690" />
        <di:waypoint x="360" y="310" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="375" y="335" width="89" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="MessageFlow_1ly0dvj_di" bpmnElement="MessageFlow_1ly0dvj">
        <di:waypoint x="760" y="310" />
        <di:waypoint x="760" y="510" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1s11869_di" bpmnElement="Event_1s11869">
        <dc:Bounds x="1322" y="532" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1ihappa_di" bpmnElement="Flow_1ihappa">
        <di:waypoint x="810" y="550" />
        <di:waypoint x="842" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Gateway_1oky0sb_di" bpmnElement="Gateway_1oky0sb" isMarkerVisible="true">
        <dc:Bounds x="1065" y="525" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1050" y="488" width="79" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0oys928_di" bpmnElement="Activity_1maw6zf">
        <dc:Bounds x="330" y="690" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1qpxbk2_di" bpmnElement="StartEvent_1">
        <dc:Bounds x="232" y="712" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="221" y="755" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_17kpctf_di" bpmnElement="Activity_1j5vs2u">
        <dc:Bounds x="1510" y="1113" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0bph9dk_di" bpmnElement="Activity_1g33ys9">
        <dc:Bounds x="1380" y="1030" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0tpqfy1_di" bpmnElement="Activity_0arydmw">
        <dc:Bounds x="1510" y="880" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1jcmoxm_di" bpmnElement="Flow_1jcmoxm">
        <di:waypoint x="1090" y="575" />
        <di:waypoint x="1090" y="730" />
        <di:waypoint x="1140" y="730" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1098" y="663" width="46" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1ea2rpk_di" bpmnElement="Event_17m5nnu">
        <dc:Bounds x="1492" y="1175" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_03bx0fv_di" bpmnElement="Flow_03bx0fv">
        <di:waypoint x="1610" y="1153" />
        <di:waypoint x="1710" y="1153" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ltztpl_di" bpmnElement="Flow_0ltztpl">
        <di:waypoint x="1492" y="1193" />
        <di:waypoint x="1430" y="1193" />
        <di:waypoint x="1430" y="1110" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wjtc9m_di" bpmnElement="Flow_1wjtc9m">
        <di:waypoint x="1430" y="1030" />
        <di:waypoint x="1430" y="940" />
        <di:waypoint x="1510" y="940" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0dk32h3_di" bpmnElement="Flow_0dk32h3">
        <di:waypoint x="1240" y="730" />
        <di:waypoint x="1290" y="730" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_052m8qy_di" bpmnElement="Flow_052m8qy">
        <di:waypoint x="685" y="730" />
        <di:waypoint x="1140" y="730" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="939" y="712" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_1xilvf7_di" bpmnElement="Activity_0t3l45g">
        <dc:Bounds x="1140" y="690" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0qh8oke_di" bpmnElement="DataOutputAssociation_0qh8oke">
        <di:waypoint x="1170" y="690" />
        <di:waypoint x="1170" y="455" />
        <di:waypoint x="1425" y="455" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Flow_16s64u8_di" bpmnElement="Flow_16s64u8">
        <dc:Bounds x="432" y="445" width="36" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="412" y="408" width="75" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataInputAssociation_03usv59_di" bpmnElement="DataInputAssociation_03usv59">
        <di:waypoint x="432" y="470" />
        <di:waypoint x="380" y="470" />
        <di:waypoint x="380" y="690" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="TextAnnotation_1g99gmz_di" bpmnElement="TextAnnotation_1g99gmz">
        <dc:Bounds x="2770" y="1180" width="100" height="96" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_01uu0h9_di" bpmnElement="Association_01uu0h9">
        <di:waypoint x="2740" y="1279" />
        <di:waypoint x="2770" y="1259" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataOutputAssociation_0d3gv5k_di" bpmnElement="DataOutputAssociation_0d3gv5k">
        <di:waypoint x="714" y="513" />
        <di:waypoint x="660" y="470" />
        <di:waypoint x="468" y="470" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0fkg53z_di" bpmnElement="Flow_0fkg53z">
        <di:waypoint x="1890" y="1178" />
        <di:waypoint x="1890" y="1310" />
        <di:waypoint x="2055" y="1310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Gateway_1ygs5wf_di" bpmnElement="Gateway_1ygs5wf" isMarkerVisible="true">
        <dc:Bounds x="2055" y="1285" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1iiy2wx_di" bpmnElement="Flow_1iiy2wx">
        <di:waypoint x="2080" y="1193" />
        <di:waypoint x="2080" y="1285" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19hhsqh_di" bpmnElement="Flow_19hhsqh">
        <di:waypoint x="2105" y="1310" />
        <di:waypoint x="2220" y="1310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ly0748_di" bpmnElement="Flow_0ly0748">
        <di:waypoint x="2550" y="1310" />
        <di:waypoint x="2640" y="1310" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_15g6gy9_di" bpmnElement="Activity_18ct8kd">
        <dc:Bounds x="2220" y="1270" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Flow_0wjiua6_di" bpmnElement="Flow_0wjiua6">
        <dc:Bounds x="562" y="495" width="36" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="546" y="552" width="69" height="40" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="DataOutputAssociation_122qg19_di" bpmnElement="DataOutputAssociation_122qg19">
        <di:waypoint x="610" y="630" />
        <di:waypoint x="530" y="630" />
        <di:waypoint x="530" y="530" />
        <di:waypoint x="562" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_0krj3th_di" bpmnElement="DataInputAssociation_0krj3th">
        <di:waypoint x="600" y="530" />
        <di:waypoint x="710" y="530" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="DataInputAssociation_1ixt4ns_di" bpmnElement="DataInputAssociation_1ixt4ns">
        <di:waypoint x="450" y="495" />
        <di:waypoint x="450" y="800" />
        <di:waypoint x="1190" y="800" />
        <di:waypoint x="1190" y="770" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1u9nq4t_di" bpmnElement="Flow_1u9nq4t">
        <di:waypoint x="660" y="590" />
        <di:waypoint x="660" y="550" />
        <di:waypoint x="710" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_1ludthq_di" bpmnElement="Activity_1pw2xhu">
        <dc:Bounds x="610" y="590" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_05aivd6_di" bpmnElement="MessageFlow_05aivd6">
        <di:waypoint x="640" y="590" />
        <di:waypoint x="640" y="310" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="569" y="336" width="61" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0tctivd_di" bpmnElement="Flow_0tctivd">
        <di:waypoint x="1020" y="550" />
        <di:waypoint x="1065" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_09rtdeh_di" bpmnElement="Activity_094f25q">
        <dc:Bounds x="710" y="510" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1dczdu1_di" bpmnElement="Activity_0g1vzfl">
        <dc:Bounds x="920" y="510" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_03hyvyg_di" bpmnElement="Flow_03hyvyg">
        <di:waypoint x="1115" y="550" />
        <di:waypoint x="1322" y="550" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1195" y="532" width="49" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1etcymb_di" bpmnElement="Flow_1etcymb">
        <di:waypoint x="878" y="550" />
        <di:waypoint x="920" y="550" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1lyqkgj_di" bpmnElement="Event_1belsq5">
        <dc:Bounds x="842" y="532" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="826" y="575" width="68" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="MessageFlow_0o5keg3_di" bpmnElement="MessageFlow_0o5keg3">
        <di:waypoint x="860" y="310" />
        <di:waypoint x="860" y="532" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="879" y="336" width="82" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0wi087l_di" bpmnElement="Activity_072z7jg">
        <dc:Bounds x="1290" y="690" width="100" height="80" />
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
